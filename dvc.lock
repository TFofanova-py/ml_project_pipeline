schema: '2.0'
stages:
  extract_archive:
    cmd: unzip -q dataset_fixed.zip -d datasets/
    deps:
    - path: dataset_fixed.zip
      md5: 324b8d39251a2cbdf00527ebed29be97
      size: 8838725
    outs:
    - path: datasets/dataset_fixed/
      md5: 4bbbc8f9a5bbd7c8fbbc03b66ab7ec4b.dir
      size: 33866544
      nfiles: 2
  split_dataset:
    cmd: python split_dataset.py
    deps:
    - path: datasets/dataset_fixed/
      md5: 4bbbc8f9a5bbd7c8fbbc03b66ab7ec4b.dir
      size: 33866544
      nfiles: 2
    - path: split_dataset.py
      md5: 14706cb125b27e5f8631390196d93114
      size: 671
    params:
      params.yaml:
        split_dataset.train_size: 0.8
    outs:
    - path: datasets/x_test.pickle
      md5: 6c0de74c02e18ea90fc65367f7deb132
      size: 6766756
    - path: datasets/x_train.pickle
      md5: 5f0bd274f2a129f8e837ff45054149cf
      size: 27017380
    - path: datasets/y_test.pickle
      md5: 4acf49838dcd303e8579fdedb94ff618
      size: 16673
    - path: datasets/y_train.pickle
      md5: 4a8c7624c9f15a430e36f2b9a24ea070
      size: 66122
  train_model:
    cmd: python train_model.py
    deps:
    - path: datasets/x_test.pickle
      md5: 6c0de74c02e18ea90fc65367f7deb132
      size: 6766756
    - path: datasets/x_train.pickle
      md5: 5f0bd274f2a129f8e837ff45054149cf
      size: 27017380
    - path: datasets/y_test.pickle
      md5: 4acf49838dcd303e8579fdedb94ff618
      size: 16673
    - path: datasets/y_train.pickle
      md5: 4a8c7624c9f15a430e36f2b9a24ea070
      size: 66122
    - path: train_model.py
      md5: 05df0e8f1becccc3141496de04bde184
      size: 5368
    params:
      params.yaml:
        train_model.batch_size: 32
        train_model.n_epochs: 15
        train_model.optimizer_lr: 0.001
        train_model.optimizer_method: Adam
        train_model.scheduler_factor: 0.5
        train_model.scheduler_method: ReduceLROnPlateau
        train_model.scheduler_patience: 0
    outs:
    - path: metrics.json
      md5: dd554bbc3349019fc11c9a67a2c81816
      size: 86
    - path: models/model.pickle
      md5: 838a8a1aa2b49543348a8d4e08c0f9c3
      size: 27610322
